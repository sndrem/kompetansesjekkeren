(window.webpackJsonpkompetansesjekkeren=window.webpackJsonpkompetansesjekkeren||[]).push([[0],{166:function(e,t,n){e.exports=n(295)},171:function(e,t,n){},172:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(32),c=n.n(o),l=(n(171),n(172),n(49)),i=n(136),s=n(137),u=n.n(s);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t){switch(t.type){case"DATA/HENTER_DATA":return d({},e,{loading:!0});case"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_OK":return d({},e,{enhetsregisterResult:t.data,loading:!1,error:""});case"ARBEIDSTILSYNET/HENTET_FRA_ARBEIDSTILSYNET_OK":return d({},e,{arbeidstilsynetOrganisation:t.data,loading:!1,error:""});case"DATA/HENTING_AV_DATA_ERROR":return d({},e,{loading:!1,error:t.error});default:return u()(t),e}}var f={error:"",loading:!1,enhetsregisterResult:null,arbeidstilsynetOrganisation:null},g=n(303),b=n(306);var p=function(){var e=Object(r.useContext)(O);if(e.loading)return a.a.createElement(g.a,{active:e.loading});if(!e.enhetsregisterResult)return null;var t=Object(l.a)(e.enhetsregisterResult.enheter,1)[0];return a.a.createElement(b.a,null,a.a.createElement(b.a.Content,null,a.a.createElement(b.a.Header,null,t.navn," - ",t.organisasjonsform.beskrivelse),a.a.createElement(b.a.Meta,null,"Jobber med ",t.naeringskode1.beskrivelse.toLowerCase()),a.a.createElement(b.a.Extra,null,"Ble stiftet ",t.stiftelsesdato)))},A=n(305),h=n(307),R="https://www.arbeidstilsynet.no/registre/renholdsregisteret/sok/GetRecordSearchModel",m="https://data.brreg.no/enhetsregisteret/api/enheter",O=a.a.createContext(f),y=a.a.createContext({});var k=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useReducer)(T,f),i=Object(l.a)(c,2),s=i[0],u=i[1];return a.a.createElement(y.Provider,{value:u},a.a.createElement(O.Provider,{value:s},a.a.createElement(A.a,{action:"#",onSubmit:function(e){return e.preventDefault()}},a.a.createElement(A.a.Field,null,a.a.createElement("label",null,"S\xf8k p\xe5 organisasjonsnummer"),a.a.createElement("input",{value:n,onChange:function(e){return o(e.currentTarget.value)},type:"number",id:"orgnr","aria-describedby":"orgnr-sok"})),a.a.createElement(h.a,{onClick:function(){9===n.length&&(u({type:"DATA/HENTER_DATA"}),fetch("".concat(m,"?organisasjonsnummer=").concat(n)).then(function(e){return e.json()}).then(function(e){u({type:"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_OK",data:e._embedded})}).catch(function(e){u({type:"DATA/HENTING_AV_DATA_ERROR",error:"Klarte ikke hente data fra enhetsregisteret"}),console.warn("Klarte ikke hente data fra enhetsregisteret",e)})),9===n.length&&(u({type:"DATA/HENTER_DATA"}),fetch("".concat(R,"?query=").concat(n)).then(function(e){return console.log("Data",e),e.json()}).then(function(e){console.log(e),u({type:"ARBEIDSTILSYNET/HENTET_FRA_ARBEIDSTILSYNET_OK",data:e[0].Organisation})}).catch(function(e){u({type:"DATA/HENTING_AV_DATA_ERROR",error:"Klarte ikke hente data fra Arbeidstilsynet"}),console.warn("Klarte ikke hente data fra Arbeidstilsynet",e)}))}},"S\xf8k")),a.a.createElement(p,null)))},_=n(304),j=function(){return a.a.createElement(_.a,null,a.a.createElement(k,null))};c.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.2a6b1d19.chunk.js.map