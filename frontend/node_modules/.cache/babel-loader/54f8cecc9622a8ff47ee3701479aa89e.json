{"ast":null,"code":"import _slicedToArray from \"/Users/sindremoldeklev/Documents/kompetansesjekkeren/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sindremoldeklev/Documents/kompetansesjekkeren/src/pages/sokpage.tsx\";\nimport React, { useState, useReducer } from 'react';\nimport { reducer } from \"../types/reducer\";\nimport { Button, InputLabel, Input, Grid } from '@material-ui/core';\nimport { initialState } from '../types/domain';\n\nfunction Sokpage() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        orgnr = _useState2[0],\n        setOrgnr = _useState2[1];\n\n  const _useReducer = useReducer(reducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const DispatchContext = React.createContext();\n  const StateContext = React.createContext(\"\");\n\n  function sokIEnhetsregisteret() {\n    if (orgnr.length === 9) {\n      fetch(\"https://data.brreg.no/enhetsregisteret/api/enheter?organisasjonsnummer=\".concat(orgnr)).then(data => data.json()).then(data => {\n        dispatch({\n          type: \"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_OK\",\n          data: data[\"_embedded\"]\n        });\n      }).catch(err => {\n        dispatch({\n          type: \"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_ERROR\",\n          error: \"Klarte ikke hente data fra enhetsregisteret\"\n        });\n        console.warn(\"Klarte ikke hente data fra enhetsregisteret\", err);\n      });\n    }\n  }\n\n  return React.createElement(DispatchContext.Provider, {\n    value: dispatch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(StateContext.Provider, {\n    value: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    name: \"sokeform\",\n    action: \"#\",\n    onSubmit: e => e.preventDefault(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"orgnr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"S\\xF8k p\\xE5 organisasjonsnummer\"), React.createElement(Input, {\n    value: orgnr,\n    onChange: e => setOrgnr(e.currentTarget.value),\n    type: \"number\",\n    id: \"orgnr\",\n    \"aria-describedby\": \"orgnr-sok\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: sokIEnhetsregisteret,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"S\\xF8k\")))));\n}\n\nexport default Sokpage;","map":{"version":3,"sources":["/Users/sindremoldeklev/Documents/kompetansesjekkeren/src/pages/sokpage.tsx"],"names":["React","useState","useReducer","reducer","Button","InputLabel","Input","Grid","initialState","Sokpage","orgnr","setOrgnr","state","dispatch","DispatchContext","createContext","StateContext","sokIEnhetsregisteret","length","fetch","then","data","json","type","catch","err","error","console","warn","e","preventDefault","currentTarget","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,KAA7B,EAAoCC,IAApC,QAAgD,mBAAhD;AACA,SAASC,YAAT,QAA6B,iBAA7B;;AAGA,SAASC,OAAT,GAAmB;AAAA,oBACWR,QAAQ,CAAS,EAAT,CADnB;AAAA;AAAA,QACRS,KADQ;AAAA,QACDC,QADC;;AAAA,sBAEWT,UAAU,CAACC,OAAD,EAAUK,YAAV,CAFrB;AAAA;AAAA,QAERI,KAFQ;AAAA,QAEDC,QAFC;;AAGf,QAAMC,eAAe,GAAGd,KAAK,CAACe,aAAN,EAAxB;AACA,QAAMC,YAAY,GAAGhB,KAAK,CAACe,aAAN,CAAoB,EAApB,CAArB;;AAEA,WAASE,oBAAT,GAAgC;AAC5B,QAAIP,KAAK,CAACQ,MAAN,KAAiB,CAArB,EAAwB;AACpBC,MAAAA,KAAK,kFAA2ET,KAA3E,EAAL,CACKU,IADL,CACUC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADlB,EAEKF,IAFL,CAEUC,IAAI,IAAI;AACVR,QAAAA,QAAQ,CAAC;AAAEU,UAAAA,IAAI,EAAE,6CAAR;AAAuDF,UAAAA,IAAI,EAAEA,IAAI,CAAC,WAAD;AAAjE,SAAD,CAAR;AACH,OAJL,EAKKG,KALL,CAKWC,GAAG,IAAI;AACVZ,QAAAA,QAAQ,CAAC;AAAEU,UAAAA,IAAI,EAAE,gDAAR;AAA0DG,UAAAA,KAAK,EAAE;AAAjE,SAAD,CAAR;AACAC,QAAAA,OAAO,CAACC,IAAR,CAAa,6CAAb,EAA4DH,GAA5D;AACH,OARL;AAUH;AACJ;;AAGD,SACI,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEZ,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAED,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,IAAI,EAAC,UAAX;AAAsB,IAAA,MAAM,EAAC,GAA7B;AAAiC,IAAA,QAAQ,EAAGiB,CAAD,IAAOA,CAAC,CAACC,cAAF,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEpB,KAAd;AAAqB,IAAA,QAAQ,EAAGmB,CAAD,IAAOlB,QAAQ,CAACkB,CAAC,CAACE,aAAF,CAAgBC,KAAjB,CAA9C;AAAuE,IAAA,IAAI,EAAC,QAA5E;AAAqF,IAAA,EAAE,EAAC,OAAxF;AAAgG,wBAAiB,WAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEf,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ,CADJ,CADJ,CADJ;AAaH;;AAED,eAAeR,OAAf","sourcesContent":["import React, { useState, useReducer } from 'react';\nimport { reducer } from \"../types/reducer\";\nimport { Button, InputLabel, Input, Grid } from '@material-ui/core';\nimport { initialState } from '../types/domain';\nimport { EnhetsregisterActions } from '../types/actions';\n\nfunction Sokpage() {\n    const [orgnr, setOrgnr] = useState<string>(\"\");\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const DispatchContext = React.createContext<EnhetsregisterActions>();\n    const StateContext = React.createContext(\"\");\n\n    function sokIEnhetsregisteret() {\n        if (orgnr.length === 9) {\n            fetch(`https://data.brreg.no/enhetsregisteret/api/enheter?organisasjonsnummer=${orgnr}`)\n                .then(data => data.json())\n                .then(data => {\n                    dispatch({ type: \"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_OK\", data: data[\"_embedded\"] })\n                })\n                .catch(err => {\n                    dispatch({ type: \"ENHETSREGISTER/HENTET_FRA_ENHETSREGISTER_ERROR\", error: \"Klarte ikke hente data fra enhetsregisteret\" })\n                    console.warn(\"Klarte ikke hente data fra enhetsregisteret\", err);\n                })\n\n        }\n    }\n\n\n    return (\n        <DispatchContext.Provider value={dispatch}>\n            <StateContext.Provider value={state}>\n                <Grid>\n                    <form name=\"sokeform\" action=\"#\" onSubmit={(e) => e.preventDefault()}>\n                        <InputLabel htmlFor=\"orgnr\">Søk på organisasjonsnummer</InputLabel>\n                        <Input value={orgnr} onChange={(e) => setOrgnr(e.currentTarget.value)} type=\"number\" id=\"orgnr\" aria-describedby=\"orgnr-sok\" />\n                        <Button onClick={sokIEnhetsregisteret}>Søk</Button>\n                    </form>\n                </Grid>\n            </StateContext.Provider>\n        </DispatchContext.Provider>\n    );\n}\n\nexport default Sokpage;"]},"metadata":{},"sourceType":"module"}